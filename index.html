<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title data-i18n="appName">Quest Bot</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Added Poppins font for English -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet"/>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="loader-overlay" class="loader-overlay"><div class="loader-spinner"></div></div>

    <div class="app-container">
        <!-- ================= HOME PAGE ================= -->
        <div class="page active" id="home-page">
            <div class="main-content">
                <div class="header">
                    <div class="user-info">
                        <img id="user-avatar" class="avatar" src="" alt="Avatar">
                        <span id="username"></span>
                    </div>
                    <!-- Container for header icons -->
                    <div class="header-icons">
                        <div class="icon-box" id="language-switcher"><i class="ri-global-line"></i></div>
                        <div class="icon-box" id="daily-reward-icon"><i class="ri-gift-line"></i></div>
                    </div>
                </div>
                <div class="dashboard-hero">
                    <p data-i18n="points_balance">ุฑุตูุฏ ุงูููุงุท</p>
                    <div class="balance-display">
                        <img src="https://raw.githubusercontent.com/twitter/twemoji/master/assets/svg/1fa99.svg" alt="coin" class="coin-icon"/>
                        <h1 id="local-coin">0</h1>
                    </div>
                    <div class="usdt-balance-display">
                        <span data-i18n="usdt_balance">ุฑุตูุฏ ุงูุฏููุงุฑ</span>: $<span id="home-usdt-balance">0.0000</span>
                    </div>
                </div>
                <div class="quick-actions">
                    <div class="action-card" data-page="earn-page"><i class="ri-copper-coin-line"></i><span data-i18n="earn_points">ุงูุณุจ ุงูููุงุท</span></div>
                    <div class="action-card" data-page="friends-page"><i class="ri-group-line"></i><span data-i18n="invite_friends">ุงุฏุนู ุงูุฃุตุฏูุงุก</span></div>
                    <div class="action-card" data-page="exchange-page"><i class="ri-exchange-dollar-line"></i><span data-i18n="exchange_withdraw">ุชุญููู ูุณุญุจ</span></div>
                </div>
            </div>
        </div>

        <!-- ================= REWARDS PAGE ================= -->
        <div class="page" id="mine-page">
            <div class="page-header"><h3 data-i18n="rewards_title">ุงูููุงูุขุช</h3></div>
            <div class="content-container">
                <div class="card">
                    <div class="reward-card-content">
                        <i class="ri-time-line"></i>
                        <div>
                            <h4 data-i18n="hourly_reward_title">ููุงูุฃุฉ ูู ุณุงุนุฉ</h4>
                            <p data-i18n="hourly_reward_desc">ุงุญุตู ุนูู 100 ููุทุฉ ูู ุณุงุนุฉ ูุฌุงูุงู.</p>
                        </div>
                    </div>
                    <button id="claim-hourly-btn" class="btn-submit" disabled data-i18n="loading">ุฌุงุฑู ุงูุชุญููู...</button>
                </div>
                <div class="card">
                    <div class="reward-card-content">
                        <i class="ri-coupon-3-line"></i>
                        <div>
                            <h4 data-i18n="gift_code_title">ููุฏ ุงููุฏูุฉ</h4>
                            <p data-i18n="gift_code_desc">ุฃุฏุฎู ุงูููุฏ ุงูุฐู ุญุตูุช ุนููู ูู ุงูููุงุฉ.</p>
                        </div>
                    </div>
                    <div class="form-group" style="margin-top: 16px;">
                        <input type="text" id="gift-code-input" data-i18n-placeholder="gift_code_placeholder">
                    </div>
                    <button class="btn-submit" id="redeem-gift-code-btn" data-i18n="redeem_code">ุชูุนูู ุงูููุฏ</button>
                </div>
            </div>
        </div>

        <!-- ================= EXCHANGE PAGE ================= -->
        <div class="page" id="exchange-page">
            <div class="page-header"><h3 data-i18n="exchange_title">ุชุญููู ูุณุญุจ</h3></div>
            <div class="content-container">
                <div class="card">
                    <h4 data-i18n="your_current_balance">ุฑุตูุฏู ุงูุญุงูู</h4>
                    <div class="balance-summary">
                        <div><i class="ri-copper-coin-fill"></i> <span data-i18n="points">ุงูููุงุท</span>: <strong id="points-balance">0</strong></div>
                        <div><i class="ri-money-dollar-circle-fill"></i> USDT: <strong id="usdt-balance">0.0000</strong></div>
                    </div>
                </div>
                <div class="card">
                    <h4 data-i18n="convert_points_to_usdt">ุชุญููู ุงูููุงุท ุฅูู USDT</h4>
                    <p><span data-i18n="exchange_rate_info">ุณุนุฑ ุงูุตุฑู ุงูุญุงูู:</span> <strong class="highlight" id="exchange-rate-info-text"></strong></p>
                    <div class="form-group">
                        <label for="points-to-convert" data-i18n="points_to_convert">ุงูููุงุท ุงููุฑุงุฏ ุชุญููููุง</label>
                        <input type="number" id="points-to-convert" data-i18n-placeholder="enter_points_amount">
                    </div>
                    <button class="btn-submit" id="convert-points-btn" data-i18n="convert_button">ุชุญููู</button>
                </div>
                <div class="card">
                    <h4 data-i18n="withdraw_earnings">ุณุญุจ ุงูุฃุฑุจุงุญ (USDT )</h4>
                    <div class="form-group"><label for="wallet" data-i18n="wallet_address">ุนููุงู ุงููุญูุธุฉ (USDT TRC20)</label><input type="text" id="wallet" data-i18n-placeholder="enter_wallet_address"></div>
                    <div class="form-group"><label for="amount" data-i18n="amount_usdt">ุงููุจูุบ (USDT)</label><input type="number" id="amount" data-i18n-placeholder="min_10_usdt"></div>
                    <button class="btn-submit" id="withdraw-btn" data-i18n="submit_withdrawal_request">ุฅุฑุณุงู ุทูุจ ุงูุณุญุจ</button>
                </div>
            </div>
        </div>
        
        <!-- ================= OTHER PAGES ================= -->
        <div class="page" id="earn-page"><div class="page-header"><h3 data-i18n="earn_title">ุงูุณุจ ุงูููุงุท</h3></div><div class="content-container"><div id="urgent-tasks-section"><h4 data-i18n="urgent_tasks">๐ฅ ููุงู ุนุงุฌูุฉ</h4><div id="urgent-tasks-container"></div></div><div id="regular-tasks-section"><h4 data-i18n="daily_tasks">ุงูููุงู ุงูููููุฉ</h4><div id="tasks-list-container"></div></div></div></div>
        <div class="page" id="friends-page"><div class="page-header"><h3 data-i18n="friends_title">ุฏุนูุฉ ุงูุฃุตุฏูุงุก</h3></div><div class="content-container"><div class="card"><h4 data-i18n="invite_and_earn">ุงุฏุนู ุฃุตุฏูุงุกู ูุงุฑุจุญ!</h4><p><span data-i18n="invite_desc">ููู ุตุฏูู ููุถู ุนุจุฑ ุฑุงุจุทูุ ุณุชุญุตู ุนูู ููุงูุฃุฉ ูุฏุฑูุง</span> <strong class="highlight">5000</strong> <span data-i18n="points">ููุทุฉ</span>.</p><button class="btn-submit invite-btn"><i class="ri-share-forward-line"></i> <span data-i18n="invite_share_button">ูุดุงุฑูุฉ ุฑุงุจุท ุงูุฏุนูุฉ</span></button></div><div class="card"><h4 data-i18n="your_referrals">ุฅุญุงูุงุชู</h4><p><span data-i18n="referral_count_text">ููุฏ ููุช ุจุฏุนูุฉ</span> <strong id="referral-count" class="highlight">0</strong> <span data-i18n="friends_suffix">ุฃุตุฏูุงุก.</span></p></div></div></div>

        <!-- ================= MODALS ================= -->
        <div id="daily-reward-modal" class="modal-overlay"><div class="modal-content"><i class="ri-close-line modal-close-btn"></i><div class="modal-icon-wrapper"><i class="ri-gift-2-fill"></i></div><h3 data-i18n="daily_reward_title">ุงูููุงูุฃุฉ ุงูููููุฉ</h3><p data-i18n="daily_reward_desc">ุณุฌู ุญุถูุฑู ููููุงู ูุชุฑุจุญ ููุงูุขุช ูููุฉ.</p><div class="reward-status"><div class="streak-info"><i class="ri-calendar-check-line"></i><span><span id="streak-days">0</span> <span data-i18n="days_streak">ุฃูุงู</span></span></div><div id="reward-countdown">โณ ...</div></div><button id="claim-reward-btn" class="btn-submit" disabled data-i18n="claim_reward">ุงููุทุงูุจุฉ ุจุงูููุงูุฃุฉ</button></div></div>
        <div id="alert-modal" class="modal-overlay"><div class="modal-content"><div id="alert-icon" class="modal-icon-wrapper"></div><p id="alert-message"></p><button id="alert-close-btn" class="btn-submit" data-i18n="ok">ุญุณูุงู</button></div></div>
        
        <!-- ================= NAVIGATION ================= -->
        <nav class="bottom-nav">
            <a href="#" class="nav-link" data-page="exchange-page"><i class="ri-exchange-dollar-line"></i><span data-i18n="nav_exchange">ุชุญููู</span></a>
            <a href="#" class="nav-link" data-page="mine-page"><i class="ri-gift-line"></i><span data-i18n="nav_rewards">ุงูููุงูุขุช</span></a>
            <a href="#" class="nav-link active" data-page="home-page"><i class="ri-home-4-fill"></i><span data-i18n="nav_home">ุงูุฑุฆูุณูุฉ</span></a>
            <a href="#" class="nav-link" data-page="friends-page"><i class="ri-group-line"></i><span data-i18n="nav_friends">ุงูุฃุตุฏูุงุก</span></a>
            <a href="#" class="nav-link" data-page="earn-page"><i class="ri-copper-coin-line"></i><span data-i18n="nav_earn">ุงูุณุจ</span></a>
        </nav>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-functions.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- IMPORTANT: Add the new languages file -->
    <script src="languages.js"></script>
    <script src="app.js"></script>
</body>
</html>
